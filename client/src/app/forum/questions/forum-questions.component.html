<div class="row" style="margin-top:0.5rem">
  <input type="text" #searchBox id="search-box" (keyup)="search(searchBox.value)" placeholder="Cerca..." class="input col-xs-12 col-md-10" style="margin-top:0.5rem" />
  <button routerLink="/forum/ask" class="input col-xs-12 col-md-2" style="margin-top: 0.5rem">Chiedi</button>
</div>
<h3 *ngIf="!currentQueryString">Domande</h3>
<h3 *ngIf="currentQueryString">Domande per: {{currentQueryString}}</h3>

<sk-circle *ngIf="showedQuestions === undefined && !loadingError"></sk-circle>
<span *ngIf="loadingError" class="error">Errore nel caricamento delle domande, riprovare più tardi!</span>

<div data-infinite-scroll
     debounce
     [infiniteScrollDistance]="1"
     [infiniteScrollThrottle]="500"
     (scrolled)="onScrollDown()"
     *ngIf="!loadingError && showedQuestions != undefined">
  <div *ngFor="let question of showedQuestions" class="row question-box">
    <div class="col-xs-12 asker">Domanda da: <strong>{{question.username}}</strong></div>
    <div class="col-xs-12">
      <strong>{{question.question}}</strong>
    </div>
    <div class="col-xs-12">
      {{question.details}}
    </div>
    <forum-reply [question]="question" *ngIf="!question.reply"></forum-reply>
    <div class="col-xs-12" *ngIf="question.reply">
      Risposta: {{question.reply}}
    </div>
  </div>
</div>